diff --git a/appmap.yml b/appmap.yml
index 7465b28..b4c9427 100644
--- a/appmap.yml
+++ b/appmap.yml
@@ -1,112 +1,156 @@
-# This is the AppMap configuration file.
-# For full documentation of this file for Java programs, see:
-# https://appland.com/docs/reference/appmap-java.html#configuration
 name: spring-petclinic
 packages:
-- path: org.springframework.samples.petclinic
-- path: org.springframework.web
-  shallow: true
-  exclude:
-    - org.springframework.util
-    - org.springframework.beans
-    - org.springframework.core.annotation
-    - org.springframework.core.SimpleAliasRegistry#canonicalName
-    - org.springframework.core.ResolvableType#resolve
-    - org.springframework.core.SimpleAliasRegistry#isAlias
-    - org.springframework.core.ResolvableType$1#isAssignableFrom
-    - org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator#predictBeanType
-    - org.springframework.core.ResolvableType$1#isAssignableFrom
-    - org.springframework.core.BridgeMethodResolver.findBridgedMethod
-    - org.springframework.core.ResolvableType#isInstance
-    - org.springframework.core.ResolvableType#hasGenerics
-    - org.springframework.core.annotation.MissingMergedAnnotation#isPresent
-    - org.springframework.core.annotation.RepeatableContainers.standardRepeatables
-    - org.springframework.core.annotation.TypeMappedAnnotations#get
-    - org.springframework.asm.ClassReader#readUnsignedShort
-    - org.springframework.aop.support.AopUtils.getMostSpecificMethod
-    - org.springframework.core.BridgeMethodResolver.isVisibilityBridgeMethodPair
-    - org.springframework.core.annotation.AnnotatedElementUtils.getMergedAnnotationAttributes
-    - org.springframework.core.annotation.AnnotatedElementUtils.findAllMergedAnnotations
-    - org.springframework.core.annotation.AnnotatedElementUtils.findMergedAnnotationAttributes
-    - org.springframework.transaction.annotation.SpringTransactionAnnotationParser#parseTransactionAnnotation
-    - org.springframework.transaction.annotation.JtaTransactionAnnotationParser#parseTransactionAnnotation
-    - org.springframework.cache.jcache.interceptor.JCacheOperationSourcePointcut#matches
-    - org.springframework.cache.interceptor.CacheOperationSourcePointcut#matches
-    - org.springframework.transaction.interceptor.TransactionAttributeSourcePointcut#matches
-    - org.springframework.cache.annotation.SpringCacheAnnotationParser#parseCacheAnnotations
-    - org.springframework.cache.annotation.SpringCacheAnnotationParser#parseCacheAnnotations
-    - org.springframework.boot.context.properties.source.SpringConfigurationPropertySources$SourcesIterator#hasNext
-    - org.springframework.core.annotation.MergedAnnotationSelectors.firstDirectlyDeclared
-    - org.springframework.core.annotation.MergedAnnotationsCollection#get
-    - org.springframework.core.annotation.AbstractMergedAnnotation#synthesize
-    - org.springframework.boot.context.properties.source.SpringConfigurationPropertySources$SourcesIterator#next
-    - org.springframework.core.annotation.MergedAnnotationsCollection$AnnotationsSpliterator#tryAdvance
-    - org.springframework.core.env.MapPropertySource#getProperty
-    - org.springframework.core.AttributeAccessorSupport#getAttribute
-    - org.springframework.core.annotation.AnnotationAttributes.fromMap
-    - org.springframework.core.annotation.PackagesAnnotationFilter#matches
-    - org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader$ConfigurationClassBeanDefinition#isFactoryMethod
-    - org.springframework.core.annotation.MergedAnnotation$Adapt.values
-    - org.springframework.core.ResolvableType.forClass
-    - org.springframework.core.annotation.MergedAnnotationsCollection#isPresent
-    - org.springframework.core.annotation.AnnotatedElementUtils.findMergedAnnotation
-    - org.springframework.boot.context.properties.source.SpringIterableConfigurationPropertySource#containsDescendantOf
-    - org.springframework.core.env.SystemEnvironmentPropertySource#getProperty
-    - org.springframework.boot.context.properties.source.SpringIterableConfigurationPropertySource#getConfigurationProperty
-    - org.springframework.core.annotation.AnnotationUtils.isCandidateClass
-    - org.springframework.asm.MethodVisitor#visitInsn
-    - org.springframework.core.annotation.AnnotatedElementUtils.hasAnnotation
-    - org.springframework.asm.Type.getType
-    - org.springframework.core.MethodClassKey#compareTo
-    - org.springframework.core.io.DefaultResourceLoader#getResource
-    - org.springframework.core.annotation.TypeMappedAnnotation#isPresent
-    - org.springframework.core.type.classreading.SimpleMetadataReaderFactory#getMetadataReader
-    - org.springframework.boot.context.properties.source.ConfigurationPropertyName#isAncestorOf
-    - org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory#getMetadataReader
-    - org.springframework.core.annotation.AbstractMergedAnnotation#isDirectlyPresent
-    - org.springframework.core.type.classreading.MergedAnnotationReadingVisitor#visitEnd
-    - org.springframework.core.annotation.AbstractMergedAnnotation#asAnnotationAttributes
-    - org.springframework.aop.scope.ScopedProxyUtils.isScopedTarget
-    - org.springframework.core.type.classreading.SimpleAnnotationMetadataReadingVisitor#visitMethod
-    - org.springframework.core.AttributeAccessorSupport#attributeNames
-    - org.springframework.core.KotlinDetector.isKotlinReflectPresent
-    - org.springframework.boot.env.RandomValuePropertySource#getProperty
-    - org.springframework.core.type.classreading.SimpleMethodMetadataReadingVisitor#visitEnd
-    - org.springframework.core.annotation.MergedAnnotationsCollection$AnnotationsSpliterator#characteristics
-    - org.springframework.core.AttributeAccessorSupport#setAttribute
-    - org.springframework.core.annotation.AnnotationUtils.findAnnotation
-    - org.springframework.core.annotation.TypeMappedAnnotations#isPresent
-    - org.springframework.aop.aspectj.annotation.BeanFactoryAspectJAdvisorsBuilder#buildAspectJAdvisors
-    - org.springframework.boot.env.OriginTrackedMapPropertySource#getProperty
-    - org.springframework.core.env.AbstractPropertyResolver#resolveRequiredPlaceholders
-    - org.springframework.boot.devtools.restart.classloader.RestartClassLoader#loadClass
-    - org.springframework.asm.Type.getReturnType
-    - org.springframework.core.annotation.MergedAnnotationPredicates.unique
-    - org.springframework.core.annotation.AnnotationUtils.isCandidateClass
-    - org.springframework.asm.MethodVisitor#visitLabel
-    - org.springframework.boot.autoconfigure.AutoConfigurationMetadataLoader$PropertiesAutoConfigurationMetadata#get
-    - org.springframework.core.SimpleAliasRegistry#getAliases
-    - org.springframework.asm.ClassReader#readInt
-    - org.springframework.core.ResolvableType#as
-    - org.springframework.core.type.classreading.SimpleAnnotationMetadataReadingVisitor#visitAnnotation
-    - org.springframework.asm.Type#getOpcode
-    - org.springframework.core.ResolvableType#getGeneric
-    - org.springframework.context.support.AbstractApplicationContext#findAnnotationOnBean
-    - org.springframework.core.ResolvableType#toClass
-    - org.springframework.boot.autoconfigure.AutoConfigurationMetadataLoader$PropertiesAutoConfigurationMetadata#getSet
-    - org.springframework.core.annotation.MergedAnnotationCollectors.toMultiValueMap
-    - org.springframework.core.annotation.MergedAnnotationsCollection#stream
-    - org.springframework.http.MediaType#isCompatibleWith
-    - org.springframework.asm.Type.getArgumentTypes
-    - org.springframework.aop.framework.AbstractAdvisingBeanPostProcessor#postProcessAfterInitialization
-    - org.springframework.aop.framework.AbstractAdvisingBeanPostProcessor#postProcessBeforeInitialization
-    - org.springframework.aop.support.annotation.AnnotationClassFilter#matches
-    - org.springframework.aop.support.AopUtils.canApply
-    - org.springframework.aop.aspectj.annotation.AbstractAspectJAdvisorFactory#isAspect
-    - org.springframework.asm.MethodVisitor#visitMethodInsn
-    - org.springframework.core.type.classreading.MergedAnnotationReadingVisitor$ArrayVisitor#visit
-    - org.springframework.core.type.classreading.SimpleMethodMetadataReadingVisitor#visitAnnotation
-    - org.springframework.core.ResolvableType#isAssignableFrom
-    - org.springframework.core.OrderComparator#compare
-    - org.springframework.core.annotation.AnnotationAttributes#getString
-    - org.springframework.core.type.filter.AbstractTypeHierarchyTraversingFilter#match
+  - path: org.springframework.samples.petclinic
+  - path: org.springframework.web
+    shallow: true
+    exclude:
+      - org.springframework.util
+      - org.springframework.beans
+      - org.springframework.core.annotation
+      - org.springframework.core.SimpleAliasRegistry#canonicalName
+      - org.springframework.core.ResolvableType#resolve
+      - org.springframework.core.SimpleAliasRegistry#isAlias
+      - org.springframework.core.ResolvableType$1#isAssignableFrom
+      - >-
+        org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator#predictBeanType
+      - org.springframework.core.ResolvableType$1#isAssignableFrom
+      - org.springframework.core.BridgeMethodResolver.findBridgedMethod
+      - org.springframework.core.ResolvableType#isInstance
+      - org.springframework.core.ResolvableType#hasGenerics
+      - org.springframework.core.annotation.MissingMergedAnnotation#isPresent
+      - >-
+        org.springframework.core.annotation.RepeatableContainers.standardRepeatables
+      - org.springframework.core.annotation.TypeMappedAnnotations#get
+      - org.springframework.asm.ClassReader#readUnsignedShort
+      - org.springframework.aop.support.AopUtils.getMostSpecificMethod
+      - >-
+        org.springframework.core.BridgeMethodResolver.isVisibilityBridgeMethodPair
+      - >-
+        org.springframework.core.annotation.AnnotatedElementUtils.getMergedAnnotationAttributes
+      - >-
+        org.springframework.core.annotation.AnnotatedElementUtils.findAllMergedAnnotations
+      - >-
+        org.springframework.core.annotation.AnnotatedElementUtils.findMergedAnnotationAttributes
+      - >-
+        org.springframework.transaction.annotation.SpringTransactionAnnotationParser#parseTransactionAnnotation
+      - >-
+        org.springframework.transaction.annotation.JtaTransactionAnnotationParser#parseTransactionAnnotation
+      - >-
+        org.springframework.cache.jcache.interceptor.JCacheOperationSourcePointcut#matches
+      - >-
+        org.springframework.cache.interceptor.CacheOperationSourcePointcut#matches
+      - >-
+        org.springframework.transaction.interceptor.TransactionAttributeSourcePointcut#matches
+      - >-
+        org.springframework.cache.annotation.SpringCacheAnnotationParser#parseCacheAnnotations
+      - >-
+        org.springframework.cache.annotation.SpringCacheAnnotationParser#parseCacheAnnotations
+      - >-
+        org.springframework.boot.context.properties.source.SpringConfigurationPropertySources$SourcesIterator#hasNext
+      - >-
+        org.springframework.core.annotation.MergedAnnotationSelectors.firstDirectlyDeclared
+      - org.springframework.core.annotation.MergedAnnotationsCollection#get
+      - org.springframework.core.annotation.AbstractMergedAnnotation#synthesize
+      - >-
+        org.springframework.boot.context.properties.source.SpringConfigurationPropertySources$SourcesIterator#next
+      - >-
+        org.springframework.core.annotation.MergedAnnotationsCollection$AnnotationsSpliterator#tryAdvance
+      - org.springframework.core.env.MapPropertySource#getProperty
+      - org.springframework.core.AttributeAccessorSupport#getAttribute
+      - org.springframework.core.annotation.AnnotationAttributes.fromMap
+      - org.springframework.core.annotation.PackagesAnnotationFilter#matches
+      - >-
+        org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader$ConfigurationClassBeanDefinition#isFactoryMethod
+      - org.springframework.core.annotation.MergedAnnotation$Adapt.values
+      - org.springframework.core.ResolvableType.forClass
+      - >-
+        org.springframework.core.annotation.MergedAnnotationsCollection#isPresent
+      - >-
+        org.springframework.core.annotation.AnnotatedElementUtils.findMergedAnnotation
+      - >-
+        org.springframework.boot.context.properties.source.SpringIterableConfigurationPropertySource#containsDescendantOf
+      - org.springframework.core.env.SystemEnvironmentPropertySource#getProperty
+      - >-
+        org.springframework.boot.context.properties.source.SpringIterableConfigurationPropertySource#getConfigurationProperty
+      - org.springframework.core.annotation.AnnotationUtils.isCandidateClass
+      - org.springframework.asm.MethodVisitor#visitInsn
+      - org.springframework.core.annotation.AnnotatedElementUtils.hasAnnotation
+      - org.springframework.asm.Type.getType
+      - org.springframework.core.MethodClassKey#compareTo
+      - org.springframework.core.io.DefaultResourceLoader#getResource
+      - org.springframework.core.annotation.TypeMappedAnnotation#isPresent
+      - >-
+        org.springframework.core.type.classreading.SimpleMetadataReaderFactory#getMetadataReader
+      - >-
+        org.springframework.boot.context.properties.source.ConfigurationPropertyName#isAncestorOf
+      - >-
+        org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory#getMetadataReader
+      - >-
+        org.springframework.core.annotation.AbstractMergedAnnotation#isDirectlyPresent
+      - >-
+        org.springframework.core.type.classreading.MergedAnnotationReadingVisitor#visitEnd
+      - >-
+        org.springframework.core.annotation.AbstractMergedAnnotation#asAnnotationAttributes
+      - org.springframework.aop.scope.ScopedProxyUtils.isScopedTarget
+      - >-
+        org.springframework.core.type.classreading.SimpleAnnotationMetadataReadingVisitor#visitMethod
+      - org.springframework.core.AttributeAccessorSupport#attributeNames
+      - org.springframework.core.KotlinDetector.isKotlinReflectPresent
+      - org.springframework.boot.env.RandomValuePropertySource#getProperty
+      - >-
+        org.springframework.core.type.classreading.SimpleMethodMetadataReadingVisitor#visitEnd
+      - >-
+        org.springframework.core.annotation.MergedAnnotationsCollection$AnnotationsSpliterator#characteristics
+      - org.springframework.core.AttributeAccessorSupport#setAttribute
+      - org.springframework.core.annotation.AnnotationUtils.findAnnotation
+      - org.springframework.core.annotation.TypeMappedAnnotations#isPresent
+      - >-
+        org.springframework.aop.aspectj.annotation.BeanFactoryAspectJAdvisorsBuilder#buildAspectJAdvisors
+      - org.springframework.boot.env.OriginTrackedMapPropertySource#getProperty
+      - >-
+        org.springframework.core.env.AbstractPropertyResolver#resolveRequiredPlaceholders
+      - >-
+        org.springframework.boot.devtools.restart.classloader.RestartClassLoader#loadClass
+      - org.springframework.asm.Type.getReturnType
+      - org.springframework.core.annotation.MergedAnnotationPredicates.unique
+      - org.springframework.core.annotation.AnnotationUtils.isCandidateClass
+      - org.springframework.asm.MethodVisitor#visitLabel
+      - >-
+        org.springframework.boot.autoconfigure.AutoConfigurationMetadataLoader$PropertiesAutoConfigurationMetadata#get
+      - org.springframework.core.SimpleAliasRegistry#getAliases
+      - org.springframework.asm.ClassReader#readInt
+      - org.springframework.core.ResolvableType#as
+      - >-
+        org.springframework.core.type.classreading.SimpleAnnotationMetadataReadingVisitor#visitAnnotation
+      - org.springframework.asm.Type#getOpcode
+      - org.springframework.core.ResolvableType#getGeneric
+      - >-
+        org.springframework.context.support.AbstractApplicationContext#findAnnotationOnBean
+      - org.springframework.core.ResolvableType#toClass
+      - >-
+        org.springframework.boot.autoconfigure.AutoConfigurationMetadataLoader$PropertiesAutoConfigurationMetadata#getSet
+      - >-
+        org.springframework.core.annotation.MergedAnnotationCollectors.toMultiValueMap
+      - org.springframework.core.annotation.MergedAnnotationsCollection#stream
+      - org.springframework.http.MediaType#isCompatibleWith
+      - org.springframework.asm.Type.getArgumentTypes
+      - >-
+        org.springframework.aop.framework.AbstractAdvisingBeanPostProcessor#postProcessAfterInitialization
+      - >-
+        org.springframework.aop.framework.AbstractAdvisingBeanPostProcessor#postProcessBeforeInitialization
+      - org.springframework.aop.support.annotation.AnnotationClassFilter#matches
+      - org.springframework.aop.support.AopUtils.canApply
+      - >-
+        org.springframework.aop.aspectj.annotation.AbstractAspectJAdvisorFactory#isAspect
+      - org.springframework.asm.MethodVisitor#visitMethodInsn
+      - >-
+        org.springframework.core.type.classreading.MergedAnnotationReadingVisitor$ArrayVisitor#visit
+      - >-
+        org.springframework.core.type.classreading.SimpleMethodMetadataReadingVisitor#visitAnnotation
+      - org.springframework.core.ResolvableType#isAssignableFrom
+      - org.springframework.core.OrderComparator#compare
+      - org.springframework.core.annotation.AnnotationAttributes#getString
+      - >-
+        org.springframework.core.type.filter.AbstractTypeHierarchyTraversingFilter#match
+language: java
+appmap_dir: target/appmap
